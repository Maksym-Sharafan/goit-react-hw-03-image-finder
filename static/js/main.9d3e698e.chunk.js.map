{"version":3,"sources":["components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","services/api.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","state","searchName","handleNameChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","onClick","children","ImageGalleryItem","largeImg","showModal","toggleModal","onImageClick","img","dataImages","map","id","webformatURL","tags","largeImageURL","src","alt","Button","api","handleApi","searchImages","perPage","page","fetch","then","response","ok","json","Promise","reject","Error","Status","ImageGallery","images","error","status","onIncrementPage","prevProps","prevState","prevName","prevPage","nextPage","res","hits","catch","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","timeout","handleOpenModal","length","message","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9d3e698e.chunk.js","sourcesContent":["import { Component } from \"react\";\r\n\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        searchName: '',\r\n    };\r\n\r\n    handleNameChange = event => {\r\n        this.setState({ searchName: event.currentTarget.value.toLowerCase() });\r\n    };\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        this.props.onSubmit(this.state.searchName);\r\n        this.setState({ searchName: '' });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className=\"Searchbar\">\r\n                <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className=\"SearchForm-button\">\r\n                        <span className=\"SearchForm-button-label\">Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className=\"SearchForm-input\"\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        onChange={this.handleNameChange}\r\n                        value={this.state.searchName}\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n    }\r\n}","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component{\r\n    componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n    render() {\r\n        return createPortal(\r\n            <div className=\"Overlay\" onClick={this.handleBackdropClick} >\r\n                <div className=\"Modal\">\r\n                    {this.props.children}\r\n                </div>\r\n            </div>, modalRoot\r\n        );\r\n    };\r\n};","import { Component } from \"react\";\r\n\r\nimport Modal from \"../Modal\";\r\n\r\nexport default class ImageGalleryItem extends Component{\r\n    state = {\r\n        largeImg: '',\r\n        showModal:false,\r\n    }\r\n\r\n    toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n    onImageClick = (img) => {\r\n        this.setState({ largeImg: img, })\r\n        this.toggleModal()\r\n    }\r\n\r\n\r\n    render() {\r\n        const { dataImages } = this.props;\r\n\r\n        return (\r\n            <>\r\n                {dataImages && dataImages.map(({id, webformatURL, tags, largeImageURL}) => (\r\n                    <li className=\"ImageGalleryItem\" key={id} id={id} onClick={()=>this.onImageClick(largeImageURL)} >\r\n                        <img src={webformatURL} alt={tags} className=\"ImageGalleryItem-image\" />\r\n                    </li>\r\n                ))}\r\n                {this.state.showModal&&<Modal onClose={this.toggleModal} ><img src={this.state.largeImg} alt=\"\" /></Modal>}\r\n            </>\r\n        );\r\n    };\r\n}\r\n","\r\n\r\n const Button=({onClick})=> {\r\n     return (<button onClick={onClick} type='button' className=\"Button\" >Load more</button>);\r\n}\r\n\r\nexport default Button;","function handleApi  (searchImages, perPage,page)  {\r\n    const baseURL = 'https://pixabay.com/api/';\r\n    const keyApi = '21844309-0bdc8d8d935c894ec75615f09';\r\n   return fetch(`${baseURL}?q=${searchImages}&page=${page}&key=${keyApi}&image_type=photo&orientation=horizontal&per_page=${perPage}`)\r\n        .then(response => {\r\n            if (response.ok) {\r\n                return response.json();\r\n            }\r\n            return Promise.reject(new Error(`Нет значения ${searchImages}`));\r\n        });\r\n}\r\n\r\nconst api = {\r\n    handleApi,\r\n};\r\n\r\nexport default api;","import { Component } from \"react\";\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport Button from \"../Button\";\r\nimport api from '../../services/api';\r\nimport ImageErrorView from \"../ImageErrorView\";\r\n\r\n\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nconst Status = {\r\n  IDLE: 'idle',\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n};\r\n\r\nexport default class ImageGallery extends Component {\r\n    state = {\r\n        page:1,\r\n        perPage: 12,\r\n        images: null,\r\n        error: null,\r\n        status: Status.IDLE,\r\n        \r\n    };\r\n\r\n    componentDidMount() {\r\n        this.setState({ perPage: 12 });\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        const { searchImages } = this.props;\r\n        const { perPage,page } = this.state;\r\n        const prevName = prevProps.searchImages;\r\n        const prevPage = prevState.perPage;\r\n        const nextPage = perPage;\r\n\r\n        if (prevName !== searchImages) {\r\n            this.setState({ perPage: 12 })\r\n        };\r\n\r\n        if ((prevName !== searchImages && perPage ===12) || prevPage !== nextPage) {\r\n            this.setState({ status: Status.PENDING });\r\n\r\n            api.handleApi(searchImages, perPage, page)\r\n                .then(res => {\r\n                    this.setState({ images: res.hits, status: Status.RESOLVED })\r\n                })\r\n                .catch(error => this.setState({ error: error, status: Status.REJECTED }));\r\n            \r\n            };\r\n        \r\n\r\n        window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n        });\r\n    };\r\n\r\n    onIncrementPage = () => {\r\n        this.setState({ perPage: this.state.perPage + 12 })\r\n    };\r\n\r\n\r\n    render() {\r\n        const { images, status, error } = this.state;\r\n        \r\n        if (status === 'idle') {\r\n            return <div className=\"startMessage\" >Введите что-то в поисковой строке</div>\r\n        };\r\n\r\n        if (status === 'pending') {\r\n            return <div className='wrapperLoader'><Loader\r\n                type=\"ThreeDots\"\r\n                color=\"#00BFFF\"\r\n                height={100}\r\n                width={100}\r\n                timeout={3000} //3 secs          \r\n            />\r\n            </div>\r\n        };\r\n\r\n        if (status === 'resolved') {\r\n            return <>\r\n                <ul className=\"ImageGallery\">\r\n                    <ImageGalleryItem dataImages={images} onClick={this.handleOpenModal} />\r\n                </ul>\r\n                {images.length>0 && <Button onClick={this.onIncrementPage} />}\r\n            </>\r\n        };\r\n\r\n       \r\n        if (status === 'rejected') {\r\n            <ImageErrorView message={error.message} />\r\n        };\r\n    };\r\n};","import { Component } from \"react\";\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\n\nimport './styles.css';\n\nclass App extends Component {\n  state = {\n    searchName: '',\n  };\n\n  handleFormSubmit = searchName => {\n    this.setState({ searchName });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchImages={this.state.searchName} />\n      </div>\n    );\n  };\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}